<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>관리자 메인</title>
<link rel="stylesheet" th:href="@{/admin/css/header.css}" />
<link rel="stylesheet" th:href="@{/admin/css/sidebar.css}" />
<link rel="stylesheet" th:href="@{/admin/css/base.css}" />
</head>
<body>

	<!-- 공통 헤더 -->
	<div th:replace="admin/fragments/header :: header" class="header"></div>

	<div id="body">
		<!-- 사이드바 -->
		<div th:replace="admin/fragments/sidebar :: sidebar" class="sidebar"></div>

		<!-- 본문 -->
		<div class="content" id="main-content">
			<h1>관리자 인덱스 페이지</h1>

			<div id="faq-list" th:if="${faqlist != null}">
				<table>
					<thead>
						<tr>
							<th>글번호</th>
							<th>구분</th>
							<th>제목</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="faq : ${faqlist}">
							<td th:text="${faq.faqId}"></td>
							<td th:text="${faq.category}"></td>
							<td><a th:href="@{'/faq/detail/' + ${faq.faqId}}"
								th:text="${faq.question}"></a></td>
						</tr>
					</tbody>
				</table>
			</div>
			<hr>

			<h1>FAQ 등록하기(관리자용)</h1>
			<div id="faq-form">
				<form action="/faq/faqRegist" method="post">
					<label for="category">카테고리:</label><br> <select id="category"
						name="category" required>
						<option value="">-- 선택하세요 --</option>
						<option value="예금">예적금</option>
						<option value="카드">카드</option>
						<option value="기타">기타</option>
					</select> <br> <br> <label for="question">제목:</label><br> <input
						type="text" id="question" name="question" required><br>
					<br> <label for="answer">답변:</label><br>
					<textarea id="answer" name="answer" rows="10" cols="50" required></textarea>
					<br> <br>
					<button type="button" onclick="loadFaqForm()">FAQ 등록하기</button>
				</form>
			</div>
		</div>
	</div>

	<script>
  function loadFaqForm() {
    fetch('/faq/faqRegist')
      .then(response => response.text())
      .then(html => {
        document.getElementById('main-content').innerHTML = html;
      })
      .catch(error => {
        console.error('FAQ 폼 로딩 실패:', error);
        alert('FAQ 폼을 불러오는 중 오류가 발생했습니다.');
      });
  }
</script>

</body>
</html>
