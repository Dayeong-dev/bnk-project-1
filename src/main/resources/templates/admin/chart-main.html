<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>관리자 메인</title>
    <link rel="stylesheet" th:href="@{/admin/css/header.css}" />
    <link rel="stylesheet" th:href="@{/admin/css/sidebar.css}" />
    <link rel="stylesheet" th:href="@{/admin/css/base.css}" />
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <!-- 공통 헤더 -->
    <div th:replace="admin/fragments/header :: header" class="header"></div>

    <div id="body">
        <!-- 사이드바 -->
        <div th:replace="admin/fragments/sidebar :: sidebar" class="sidebar"></div>

        <!-- 본문 -->
        <div class="content">
            <h1>차트</h1>
				<canvas id="visitChart" width="800" height="400" style="display:block;"></canvas>
        </div>
    </div>
    

	<script th:inline="javascript">
	    const labels = /*[[${labels}]]*/ [];
	    const counts = /*[[${counts}]]*/ [];
	    console.log("✅ labels:", labels);
	    console.log("✅ counts:", counts);
	
	    const ctx = document.getElementById('visitChart').getContext('2d');
	    new Chart(ctx, {
	        type: 'bar',
	        data: {
	            labels: labels,
	            datasets: [{
	                label: '방문자 수',
	                data: counts,
	                backgroundColor: 'rgba(54, 162, 235, 0.5)',
	                borderColor: 'rgba(54, 162, 235, 1)',
	                borderWidth: 1
	            }]
	        },
	        options: {
	            scales: {
	                y: { beginAtZero: true }
	            }
	        }
	    });
	</script>
</body>
</html>
